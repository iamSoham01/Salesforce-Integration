<template>

  <!-- Card Start -->
  <lightning-card>

    <!-- Card Header Start -->
    <div class="slds-var-p-left_xx-large slds-var-m-bottom_x-large">
      <img src={facebookLogo} alt="Open Cage Logo" width="150" height="50">
    </div>
    <!-- Card Header End -->    

    <!-- Card Body Start -->
    <lightning-layout class="slds-var-p-left_x-large slds-var-p-bottom_large">
      
      <lightning-layout-item size="4" padding="around-small">
        <lightning-combobox
            lwc:ref="pageName"
            label="Select facebook page"
            value={value}
            options={facebookPageNames}
            onchange={handleSelectedPage} >
        </lightning-combobox>
      </lightning-layout-item>

      <template lwc:if={isPageSelected} >
        
        <lightning-layout-item size="6" padding="around-small">
          <lightning-textarea label="Enter message" class="slds-var-m-left_x-large" placeholder="type here..." lwc:ref="msg"></lightning-textarea>
        </lightning-layout-item>

        <lightning-layout-item size="2" style="margin-top: 22px" padding="around-small">
          <lightning-button label="Create Post" icon-name="utility:share_post" class="slds-var-m-left_x-large" onclick={handlePost} variant="brand"></lightning-button>
        </lightning-layout-item>
  
      </template>
    </lightning-layout>
    <!-- Card Body End -->

    <!-- Output Start -->
    <lightning-layout class="slds-var-m-around_xx-large">

      <template lwc:if={isLoaded}>
        <lightning-spinner variant="brand" alternative-text="Loading"></lightning-spinner>
      </template>

      <template lwc:if={successResponse}>
        <lightning-layout-item size="12"> 
          <div class="card-container">
            <div class="card-content">
                <div class="card-detail">
                  <strong>Message:</strong> {successResponse}
                </div>
            </div>
          </div>
        </lightning-layout-item>
      </template>

      <template lwc:if={error}>
        <lightning-layout-item size="12"> 
          <div class="card-container">
            <div class="card-content">
                <div class="card-detail">
                  <strong>Error:</strong> {error}
                </div>
            </div>
          </div>
        </lightning-layout-item>
      </template>
    </lightning-layout>
    <!-- Output End -->

  </lightning-card>
  <!-- Card End -->
    
</template>